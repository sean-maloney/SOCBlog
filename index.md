---
layout: home
title: FPGA VGA Driver Project
tags: fpga vga verilog
categories: demo
---
# **WELCOME TO MY FPGA VGA DRIVER PROJECT**
This project is my introduction to FPGA design using Verilog on Vivado. It started with a basic template provided to me by my teacher that displayed colored stripes on a VGA screen. From there, I then modified the code to display an Irish flag. As I expermitented with the templates provided I tried to implement animations or a slideshow feature that would try and make the flag look like it was waving or have the slideshow go through a bunch of different flags, but these ideas didn't quite work out. Despide this, I learned a lot about VGA timing, Verilog coding, and how to debug my designs.
## **Template VGA Design**
### **Project Set-Up**
The starting point in this project was a template that generates VGA signals and displayed simple multi colored stripes. I set everything up in Vivado, Including simulation and synthesis, to understand how this design worked. Below is a screenshot of my project summary:
<img src="https://raw.githubusercontent.com/sean-maloney/SOCBlog/main/docs/assets/images/VGAPrjSum.png">

This template helped me see how the VGA timing is used and handled and also how the color are displayed on the screen/

### **Template Code**
The template's key modules were:
- **VGASync.v:** This module generates the horizontal and vertical sync signals (hsync and vsync), this tracks the current position of the pizels on the screen, we can then ensure the display is being updated row by row and frame by frame by using (hcount and vcount).
- **VGAColourStripes.v:** This module controls the colors outputted based on the position of the pixels. The default design was to divide the screen into multiple vertical stripes, each with a different color.

For example part of the original code was assiging colors like this:
`if (col >= 0 && col < 210) begin`
    `red_next <= 4'b1111;   // Red stripe`
    `green_next <= 4'b0000;`
    `blue_next <= 4'b0000;`
`end else if (col >= 220 && col < 430) begin`
    `red_next <= 4'b0000;   // Green stripe`
    `green_next <= 4'b1111;`
    `blue_next <= 4'b0000;`
`end`
This pattern filled the screen with colorful vertical bars.

(Include reference to how a VGA interface works). Guideline: 2/3 short paragraphs, consider including screenshot(s).
### **Simulation**
The simulation process was key to my understanding of how the design works. I used Vivado's built in simulator to check the hsync and vsync, and color signals over time. The waveform output showed the exact timing of the sync pulses, this ensured the design was adhering to VGA's specifications.

<img src="https://raw.githubusercontent.com/sean-maloney/SOCBlog/main/docs/assets/images/SimInit.png">

For the template design, the simulation had to verify the color regoins were mapped correctly to specific sections of the screen. The timing diagram shows the tranistions between multiple color zones, this confirms the counters were incrementing as they were specified to.

### **Synthesis**
After the simulation, I synthesized the template's cpde to convert the Verilog design into a format that is compatible with the FPGA. The synthesis generated a detailed report that included the resource usage and timing estimates. These reports generated by Synthesis helped me confirm that the design was small enough to fit on the board.

Describe the synthesis and implementation processes. Consider including 1/2 useful screenshot(s). Guideline: 1/2 short paragraphs.
### **Demonstration**
Finally, I programmed the FPGA and connected it to a VGA monitor. The screen displayed colorful Stripes that were vertical. It was amazing to see some image actually displaying to a monitor.

Perhaps add a picture of your demo. Guideline: 1/2 sentences.

## **My VGA Design Edit**
### **Code Adaptation**
After understanding the templates, I decided to give it a go and try to display an irish flag. This involved adjusting the color regions in the `VGAColourStripes.v` module. 

(insert photo here)

This image isn't that complex but takes an understanding of how the image fits on the screen, It can obtained by expermenting with the code until you understand and start seeing a desireable image as a result.

Introduce your own design idea. Consider how complex/achievabble this might be or otherwise. Reference any research you do online (use hyperlinks).

Briefly show how you changed the template code to display a different image. Demonstrate your understanding. Guideline: 1-2 short paragraphs.

### **Simulation**
I simulated the Irish flag design to confirm the correct color assignments and transitions between the sections. The waveform that was produced by this showed that the hcount values aligned perfectly with the boundaries of each stripe on the Irish flag, the colors also matched what was expected (Grenn, White, and Orange)

Simulation also helpes me debug an issue where the colors were overlapping due to incorrect boundary values. After adjusting the values within the `if` statments, the simulation output looked perfect.

(Insert simulating screenshot of Irish flag design)

### **Synthesis**
Syntheizing the code I had modfied from the template show no major changes in the resource usage compared to that of the template design. The implementation step also passed without errors, and the design was ready to program onto the FPGA

(Insert synthesisreport screenshot for Irish flg design)

Describe the synthesis & implementation outputs for your design, are there any differences to that of the original design? Guideline 1-2 short paragraphs.
### **Demonstration**
After programming the board, the Irish flag appeared on the VGA monitor, with the Three Vertical stripes of Green white and orange seperated by thinner black vertical stripes to make the picture more detailed. This was a great success and a satisfying moment as it showed my hard work payed off.

If you get your own design working on the Basys3 board, take a picture! Guideline: 1-2 sentences.

## **Failed Experiments**
In my attempt to add more creativity and complexity into my code, I tried animatig the flag by shifting shifting the stripes horizontially. However, the timing logic did not work as I expected or hoped it would. I also attempted a slideshow feature that would use a `switch-case` statement to display different flags but I couldn't manage the state transitions.

These failed attempts helped me to learn about the handling of timing-sensitive designs and debugging complex Verilog logic.

## **Reflections**
This project has been a great introduction to FPGA deisgn and Verilog. The templates were a great help and helped me understand and learn the basics, and when I modified the templates to display the Irish flag, that only deepend my understanding of VGA timing and color logic. Even though some of my experiments didn't go the way I planned them to go, they gave me ideas for my future projects.

I'm excited to try and learn some more complex designs someday, or even try and learn some animation or interactive features to implement into my future projects

## **More Markdown Basics**
This is a paragraph. Add an empty line to start a new paragraph.



Font can be emphasised as *Italic* or **Bold**.

Code can be highlighted by using `backticks`.

Hyperlinks look like this: [GitHub Help](https://help.github.com/).

A bullet list can be rendered as follows:
- vectors
- algorithms
- iterators

Images can be added by uploading them to the repository in a /docs/assets/images folder, and then rendering using HTML via githubusercontent.com as shown in the example below.

<img src="https://raw.githubusercontent.com/melgineer/fpga-vga-verilog/main/docs/assets/images/VGAPrjSrcs.png">
